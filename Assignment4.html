<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jackie Chen">

<title>Assignment 4: Cohort Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="Assignment4_files/libs/clipboard/clipboard.min.js"></script>
<script src="Assignment4_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="Assignment4_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="Assignment4_files/libs/quarto-html/popper.min.js"></script>
<script src="Assignment4_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Assignment4_files/libs/quarto-html/anchor.min.js"></script>
<link href="Assignment4_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Assignment4_files/libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Assignment4_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Assignment4_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Assignment4_files/libs/bootstrap/bootstrap-81267100e462c21b3d6c0d5bf76a3417.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Assignment 4: Cohort Analysis</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jackie Chen </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="prompt" class="level2">
<h2 class="anchored" data-anchor-id="prompt">Prompt</h2>
<p>Create a 4 to 6 page Quarto reproducible report, in prose, in a repository on your GitHub account based on the cohort simulated data that contains the following features:</p>
<ul>
<li><p>introduction section</p></li>
<li><p>methods section with notation</p></li>
<li><p>results section with data summary table and at least 2 figures</p></li>
<li><p>discussion</p></li>
</ul>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Cigarette smoking remains a leading modifiable risk factor for cardiovascular disease (CVD), contributing to conditions such as coronary heart disease, myocardial infarction, and stroke. The <a href="https://www.cdc.gov/tobacco/about/cigarettes-and-cardiovascular-disease.html?utm_source=chatgpt.com"><strong>Centers for Disease Control and Prevention (CDC)</strong></a> reports that smoking is responsible for one in every four deaths from CVD in the United States. The pathophysiological mechanisms include endothelial dysfunction, inflammation, and atherosclerosis, which collectively elevate the risk of cardiac events<span class="citation" data-cites="Ambrose2004">(<a href="#ref-Ambrose2004" role="doc-biblioref">Ambrose and Barua 2004</a>)</span>.</p>
<p>Beyond its clinical implications, smoking imposes a substantial economic burden on healthcare systems. A study published in the American Journal of Preventive Medicine estimated that by 2010, 8.7% of annual healthcare spending in the U.S. was attributable to cigarette smoking<span class="citation" data-cites="Xu2021 Xu2015">(<a href="#ref-Xu2021" role="doc-biblioref">Xu et al. 2021</a>, <a href="#ref-Xu2015" role="doc-biblioref">2015</a>)</span>. This financial strain underscores the importance of effective tobacco control measures.</p>
<p>The relationship between smoking and cardiac events is further complicated by demographic factors, notably age and gender. Research indicates that female smokers have a 25% higher risk of developing coronary heart disease compared to male smokers, even when accounting for similar levels of tobacco exposure<span class="citation" data-cites="Huxley2011">(<a href="#ref-Huxley2011" role="doc-biblioref">Huxley and Woodward 2011</a>)</span>. Additionally, the risk of CVD increases with age, and smoking can exacerbate age-related cardiovascular deterioration<span class="citation" data-cites="Gallucci2020">(<a href="#ref-Gallucci2020" role="doc-biblioref">Gallucci et al. 2020</a>)</span>.</p>
<p>The current study utilizes a simulated cohort dataset to examine the association between cigarette smoking and cardiac events, with adjustments for age and gender. By analyzing both binary outcomes (presence of cardiac events) and continuous outcomes (healthcare costs), the study aims to elucidate the multifaceted impact of <a href="https://www.thetimes.com/life-style/health-fitness/article/french-paradox-diet-food-france-f28c7pnnl?utm_source=chatgpt.com&amp;region=global"><strong>smoking on cardiovascular health</strong></a> and economic burden.</p>
<p align="center">
</p><p><img src="images/old_lady_smoking.png" alt="An older woman smoking — UNU gender and tobacco" width="50%"></p>
<p></p>
<p align="center">
</p><p><em>Image source: <a href="https://unu.edu/iigh/article/rethinking-tobacco-control-need-gender-responsiveness-tobacco-control-measures">United Nations University: Rethinking Tobacco Control</a></em></p>
<p></p>
</section>
<section id="methods" class="level1">
<h1>Methods</h1>
<p>A descriptive summary table was generated to compare participant characteristics by smoking status. Continuous variables (age and medical cost) are presented as means and standard deviations, and categorical variables (sex and cardiac events) are presented as frequencies and percentages.</p>
<p>Group differences were evaluated using independent two-sample t-tests for continuous variables and chi-square tests for binary variables. P-values are reported in the rightmost column of the table. All summaries were produced using the <code>gtsummary</code> package in R.</p>
<p>We then fit two separate regression models to estimate the effect of smoking on two outcomes: cardiac events (binary) and medical cost (continuous). In both models, we adjust for age and gender.</p>
<p>The first model is a <strong>logistic regression</strong> for the binary outcome of adverse cardiac events:</p>
<p><span class="math display">\[
\text{Cardiac}_i = \beta_0 + \beta_1 \cdot \text{Smoking}_i + \beta_2 \cdot \text{Female}_i + \beta_3 \cdot \text{Age}_i + \beta_4 \cdot (\text{Smoking}_i \times \text{Female}_i) + \varepsilon_i
\]</span></p>
<p>The second model is a <strong>linear regression</strong> for the continuous outcome of medical cost:</p>
<p><span class="math display">\[
\text{Cost}_i = \alpha_0 + \alpha_1 \cdot \text{Smoking}_i + \alpha_2 \cdot \text{Female}_i + \alpha_3 \cdot \text{Age}_i + \alpha_4 \cdot (\text{Smoking}_i \times \text{Female}_i) + \varepsilon_i
\]</span></p>
<p>In both equations: - <span class="math inline">\(\text{Smoking}_i\)</span> is a binary indicator for whether participant <em>i</em> is a smoker. - <span class="math inline">\(\text{Female}_i\)</span> is a binary indicator for sex (1 = female). - <span class="math inline">\(\text{Age}_i\)</span> is the age in years. - <span class="math inline">\(\text{Smoking}_i \times \text{Female}_i\)</span> is the interaction term - <span class="math inline">\(\varepsilon_i\)</span> is a random error term (in the linear model).</p>
<p><span class="math inline">\(\beta_1\)</span> and <span class="math inline">\(\alpha_1\)</span> would be our targets of interest.</p>
</section>
<section id="results" class="level1">
<h1>Results</h1>
<section id="table-1.-summary-data" class="level2">
<h2 class="anchored" data-anchor-id="table-1.-summary-data">Table 1. Summary Data</h2>
<div class="cell">
<div class="cell-output-display">
<div id="pohcrllkdj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#pohcrllkdj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#pohcrllkdj thead, #pohcrllkdj tbody, #pohcrllkdj tfoot, #pohcrllkdj tr, #pohcrllkdj td, #pohcrllkdj th {
  border-style: none;
}

#pohcrllkdj p {
  margin: 0;
  padding: 0;
}

#pohcrllkdj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#pohcrllkdj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#pohcrllkdj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pohcrllkdj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pohcrllkdj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pohcrllkdj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pohcrllkdj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pohcrllkdj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pohcrllkdj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pohcrllkdj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pohcrllkdj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pohcrllkdj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pohcrllkdj .gt_spanner_row {
  border-bottom-style: hidden;
}

#pohcrllkdj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#pohcrllkdj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#pohcrllkdj .gt_from_md > :first-child {
  margin-top: 0;
}

#pohcrllkdj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pohcrllkdj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#pohcrllkdj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#pohcrllkdj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#pohcrllkdj .gt_row_group_first td {
  border-top-width: 2px;
}

#pohcrllkdj .gt_row_group_first th {
  border-top-width: 2px;
}

#pohcrllkdj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pohcrllkdj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#pohcrllkdj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#pohcrllkdj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pohcrllkdj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pohcrllkdj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pohcrllkdj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#pohcrllkdj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#pohcrllkdj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pohcrllkdj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pohcrllkdj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pohcrllkdj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pohcrllkdj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pohcrllkdj .gt_left {
  text-align: left;
}

#pohcrllkdj .gt_center {
  text-align: center;
}

#pohcrllkdj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pohcrllkdj .gt_font_normal {
  font-weight: normal;
}

#pohcrllkdj .gt_font_bold {
  font-weight: bold;
}

#pohcrllkdj .gt_font_italic {
  font-style: italic;
}

#pohcrllkdj .gt_super {
  font-size: 65%;
}

#pohcrllkdj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#pohcrllkdj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#pohcrllkdj .gt_indent_1 {
  text-indent: 5px;
}

#pohcrllkdj .gt_indent_2 {
  text-indent: 10px;
}

#pohcrllkdj .gt_indent_3 {
  text-indent: 15px;
}

#pohcrllkdj .gt_indent_4 {
  text-indent: 20px;
}

#pohcrllkdj .gt_indent_5 {
  text-indent: 25px;
}

#pohcrllkdj .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#pohcrllkdj div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<caption><strong>Table 1. Summary of Participant Characteristics by Smoking Status</strong></caption>
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="gt_col_headings header">
<th id="label" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>Variable</strong></th>
<th id="stat_0" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Overall</strong><br>
N = 5,000<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_1" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Yes</strong><br>
N = 789<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="stat_2" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>No</strong><br>
N = 4,211<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
<th id="p.value" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>p-value</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span></th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="label" style="font-weight: bold">Female</td>
<td class="gt_row gt_center" headers="stat_0">2,774 (55%)</td>
<td class="gt_row gt_center" headers="stat_1">436 (55%)</td>
<td class="gt_row gt_center" headers="stat_2">2,338 (56%)</td>
<td class="gt_row gt_center" headers="p.value">&gt;0.9</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label" style="font-weight: bold">Age (yrs)</td>
<td class="gt_row gt_center" headers="stat_0">44 (15)</td>
<td class="gt_row gt_center" headers="stat_1">43 (15)</td>
<td class="gt_row gt_center" headers="stat_2">44 (15)</td>
<td class="gt_row gt_center" headers="p.value">0.3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label" style="font-weight: bold">Cardiac events</td>
<td class="gt_row gt_center" headers="stat_0">250 (5.0%)</td>
<td class="gt_row gt_center" headers="stat_1">133 (17%)</td>
<td class="gt_row gt_center" headers="stat_2">117 (2.8%)</td>
<td class="gt_row gt_center" headers="p.value">&lt;0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label" style="font-weight: bold">Medical cost ($USD)</td>
<td class="gt_row gt_center" headers="stat_0">9,166 (421)</td>
<td class="gt_row gt_center" headers="stat_1">9,663 (395)</td>
<td class="gt_row gt_center" headers="stat_2">9,072 (355)</td>
<td class="gt_row gt_center" headers="p.value">&lt;0.001</td>
</tr>
</tbody><tfoot class="gt_footnotes">
<tr class="odd">
<td colspan="5" class="gt_footnote"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> n (%); Mean (SD)</td>
</tr>
<tr class="even">
<td colspan="5" class="gt_footnote"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span> Pearson’s Chi-squared test; Welch Two Sample t-test</td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>
</section>
<section id="table-2.-regression-results" class="level2">
<h2 class="anchored" data-anchor-id="table-2.-regression-results">Table 2. Regression Results</h2>
<div class="cell">
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_vyy6r12pzty8ifleywhp(i, j, css_id) {
          var table = document.getElementById("tinytable_vyy6r12pzty8ifleywhp");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_vyy6r12pzty8ifleywhp');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_vyy6r12pzty8ifleywhp(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_vyy6r12pzty8ifleywhp");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 14, j: 1 }, { i: 14, j: 2 },  ], css_id: 'tinytable_css_yhhaqfdkk7yfdre7iqel',}, 
          { positions: [ { i: 10, j: 1 }, { i: 10, j: 2 },  ], css_id: 'tinytable_css_4kwejn1wwfnm6q1c3aak',}, 
          { positions: [ { i: 1, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 6, j: 1 }, { i: 7, j: 1 }, { i: 8, j: 1 }, { i: 9, j: 1 }, { i: 8, j: 2 }, { i: 11, j: 1 }, { i: 12, j: 1 }, { i: 13, j: 1 }, { i: 12, j: 2 }, { i: 2, j: 1 }, { i: 1, j: 2 }, { i: 2, j: 2 }, { i: 3, j: 2 }, { i: 4, j: 2 }, { i: 5, j: 2 }, { i: 6, j: 2 }, { i: 7, j: 2 }, { i: 9, j: 2 }, { i: 11, j: 2 }, { i: 13, j: 2 },  ], css_id: 'tinytable_css_jvglda4s1bq4wc3fyv1g',}, 
          { positions: [ { i: 0, j: 1 }, { i: 0, j: 2 },  ], css_id: 'tinytable_css_drqo8q98t279fw2fdgvh',}, 
          { positions: [ { i: 14, j: 0 },  ], css_id: 'tinytable_css_ul3t13v54kqcvv3k013w',}, 
          { positions: [ { i: 10, j: 0 },  ], css_id: 'tinytable_css_c5aq9imu9gaco6z1omtg',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 6, j: 0 }, { i: 7, j: 0 }, { i: 8, j: 0 }, { i: 9, j: 0 }, { i: 11, j: 0 }, { i: 12, j: 0 }, { i: 13, j: 0 },  ], css_id: 'tinytable_css_07rrt8rrq5dafq60h77w',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_pr3ym5f0c58d348ptvju',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_vyy6r12pzty8ifleywhp(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_yhhaqfdkk7yfdre7iqel, .table th.tinytable_css_yhhaqfdkk7yfdre7iqel { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_4kwejn1wwfnm6q1c3aak, .table th.tinytable_css_4kwejn1wwfnm6q1c3aak { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_jvglda4s1bq4wc3fyv1g, .table th.tinytable_css_jvglda4s1bq4wc3fyv1g { text-align: center; }
      .table td.tinytable_css_drqo8q98t279fw2fdgvh, .table th.tinytable_css_drqo8q98t279fw2fdgvh { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_ul3t13v54kqcvv3k013w, .table th.tinytable_css_ul3t13v54kqcvv3k013w { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_c5aq9imu9gaco6z1omtg, .table th.tinytable_css_c5aq9imu9gaco6z1omtg { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_07rrt8rrq5dafq60h77w, .table th.tinytable_css_07rrt8rrq5dafq60h77w { text-align: left; }
      .table td.tinytable_css_pr3ym5f0c58d348ptvju, .table th.tinytable_css_pr3ym5f0c58d348ptvju { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_vyy6r12pzty8ifleywhp" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">Cardiac (Logit)</th>
                <th scope="col">Cost (Linear)</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-3.693***</td>
                  <td>8797.351***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.337)</td>
                  <td>(14.029)</td>
                </tr>
                <tr>
                  <td>smokeNo</td>
                  <td>-1.782***</td>
                  <td>-545.564***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.375)</td>
                  <td>(11.675)</td>
                </tr>
                <tr>
                  <td>femaleNo</td>
                  <td>2.645***</td>
                  <td>390.462***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.286)</td>
                  <td>(16.024)</td>
                </tr>
                <tr>
                  <td>age</td>
                  <td>0.008+</td>
                  <td>15.912***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.005)</td>
                  <td>(0.210)</td>
                </tr>
                <tr>
                  <td>smokeNo × femaleNo</td>
                  <td>-0.383</td>
                  <td>-120.467***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.405)</td>
                  <td>(17.462)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>5000</td>
                  <td>5000</td>
                </tr>
                <tr>
                  <td>R2</td>
                  <td></td>
                  <td>0.717</td>
                </tr>
                <tr>
                  <td>R2 Adj.</td>
                  <td></td>
                  <td>0.717</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>89.438</td>
                  <td>3169.742</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</section>
<section id="figure-1.-predicted-probability-of-cardiac-events" class="level2">
<h2 class="anchored" data-anchor-id="figure-1.-predicted-probability-of-cardiac-events">Figure 1. Predicted Probability of Cardiac Events</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment4_files/figure-html/Regression%20figure%201-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="figure-2.-predicted-medical-cost" class="level2">
<h2 class="anchored" data-anchor-id="figure-2.-predicted-medical-cost">Figure 2. Predicted Medical Cost</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Assignment4_files/figure-html/Regression%20figure%202-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="discussion" class="level1">
<h1>Discussion</h1>
<p>I</p>
<section id="disclaimer" class="level2">
<h2 class="anchored" data-anchor-id="disclaimer">Disclaimer</h2>
<p>I did not use generative AI technology to complete any portion of the work.</p>

</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-Ambrose2004" class="csl-entry" role="listitem">
Ambrose, John A, and Rajat S Barua. 2004. <span>“The Pathophysiology of Cigarette Smoking and Cardiovascular Disease.”</span> <em>Journal of the American College of Cardiology</em> 43 (10): 1731–37. <a href="https://doi.org/10.1016/j.jacc.2003.12.047">https://doi.org/10.1016/j.jacc.2003.12.047</a>.
</div>
<div id="ref-Gallucci2020" class="csl-entry" role="listitem">
Gallucci, Giuseppina, Alfredo Tartarone, Rosa Lerose, Anna Vittoria Lalinga, and Alba Maria Capobianco. 2020. <span>“Cardiovascular Risk of Smoking and Benefits of Smoking Cessation.”</span> <em>Journal of Thoracic Disease</em> 12 (7): 3866–76. <a href="https://doi.org/10.21037/jtd.2020.02.47">https://doi.org/10.21037/jtd.2020.02.47</a>.
</div>
<div id="ref-Huxley2011" class="csl-entry" role="listitem">
Huxley, Rachel R, and Mark Woodward. 2011. <span>“Cigarette Smoking as a Risk Factor for Coronary Heart Disease in Women Compared with Men: A Systematic Review and Meta-Analysis of Prospective Cohort Studies.”</span> <em>The Lancet</em> 378 (9799): 1297–1305. <a href="https://doi.org/10.1016/s0140-6736(11)60781-2">https://doi.org/10.1016/s0140-6736(11)60781-2</a>.
</div>
<div id="ref-Xu2015" class="csl-entry" role="listitem">
Xu, Xin, Ellen E. Bishop, Sara M. Kennedy, Sean A. Simpson, and Terry F. Pechacek. 2015. <span>“Annual Healthcare Spending Attributable to Cigarette Smoking.”</span> <em>American Journal of Preventive Medicine</em> 48 (3): 326–33. <a href="https://doi.org/10.1016/j.amepre.2014.10.012">https://doi.org/10.1016/j.amepre.2014.10.012</a>.
</div>
<div id="ref-Xu2021" class="csl-entry" role="listitem">
Xu, Xin, Sundar S. Shrestha, Katrina F. Trivers, Linda Neff, Brian S. Armour, and Brian A. King. 2021. <span>“U.S. Healthcare Spending Attributable to Cigarette Smoking in 2014.”</span> <em>Preventive Medicine</em> 150 (September): 106529. <a href="https://doi.org/10.1016/j.ypmed.2021.106529">https://doi.org/10.1016/j.ypmed.2021.106529</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>